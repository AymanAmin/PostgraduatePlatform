<div class="container-fluid py-4">
  <div class="row">
    <div class="col-lg-12 col-12 mx-auto">
      <div class="card card-body mt-4">
        <form class="card card-body mt-4" [formGroup]="SequenceForm" (ngSubmit)="OnSubmit(false)">
          <h6 class="mb-0">{{lb_Info}}</h6>
          <p class="text-sm mb-0">{{lb_InfoD}}</p>
          <hr class="horizontal dark my-3">
          <div class="row">
            <div class="col-12 col-md-6">
              <label class="form-label">{{lb_SequenceModel}}</label>
              <select class="form-control" name="choices-language" formControlName="SequenceModel_ID">
                <option [ngValue]="null" selected> - {{lb_Select}} -</option>
                <option value="{{SeqModel.Id}}" *ngFor="let SeqModel of SeqModelList">{{LangCode === "us-en" ? SeqModel.Name_En : SeqModel.Name_Ar}}</option>
              </select>
            </div>
            <div class="col-12 col-md-6">
              <label class="form-label">{{lb_SequenceStatus}}</label>
              <select class="form-control" name="choices-language" formControlName="SequenceStatus_ID">
                <option [ngValue]="null" selected> - {{lb_Select}} -</option>
                <option value="{{SeqStatus.Id}}" *ngFor="let SeqStatus of SeqStatusList">{{LangCode === "us-en" ? SeqStatus.Name_En : SeqStatus.Name_Ar}}</option>
              </select>
            </div>
          </div>

          <div class="row mt-4">
            <div class="col-12 col-md-4">
              <label class="form-label">{{lb_NextStep}}</label>
              <select class="form-control" name="choices-language" formControlName="NextSequence_ID">
                <option [ngValue]="null" selected> - {{lb_Select}} -</option>
                <option value="{{nextStep.Id}}" *ngFor="let nextStep of SeqStatusList">{{LangCode === "us-en" ? nextStep.Name_En : nextStep.Name_Ar}}</option>
              </select>
            </div>
            <div class="col-12 col-md-4">
              <label class="form-label">{{lb_PreviousStep}}</label>
              <select class="form-control" name="choices-language" formControlName="PreviousSequence_ID">
                <option [ngValue]="null" selected> - {{lb_Select}} -</option>
                <option value="{{prevStep.Id}}" *ngFor="let prevStep of SeqStatusList">{{LangCode === "us-en" ? prevStep.Name_En : prevStep.Name_Ar}}</option>
              </select>
            </div>
            <div class="col-12 col-md-4">
              <label class="form-label">{{lb_OptionStep}}</label>
              <select class="form-control" name="choices-language" formControlName="OptionalSequence_ID">
                <option [ngValue]="null" selected> - {{lb_Select}} -</option>
                <option value="{{optionStep.Id}}" *ngFor="let optionStep of SeqStatusList">{{LangCode === "us-en" ? optionStep.Name_En : optionStep.Name_Ar}}</option>
              </select>
            </div>
          </div>
          <div class="row mt-4">
            <div class="col-12 col-md-6">
              <label class="form-label">{{lb_EmailTemplate}}</label>
              <select class="form-control" name="choices-language" formControlName="EmailTemplate_ID">
                <option [ngValue]="null" selected> - {{lb_Select}} -</option>
                <option value="{{oneEmailTemplate.Id}}" *ngFor="let oneEmailTemplate of EmailTemplateList">{{LangCode === "us-en" ?
                  oneEmailTemplate.Name_En : oneEmailTemplate.Name_Ar}}</option>
              </select>
            </div>
            <div class="col-12 col-md-6">
              <div class="form-group">
                <label>
                  {{lb_IsActive}}
                </label>
                <p class="form-text text-muted text-xs ms-1">
                  {{lb_IsActiveD}}
                </p>
                <div class="form-check form-switch ms-1">

                  <input class="form-check-input" type="checkbox" (change)="ActiveValue($event.target)" formControlName="IsActive"
                    value="true" />
                  <label class="form-check-label" for="flexSwitchCheckDefault"></label>
                </div>
              </div>
            </div>
            <div class="row mt-4">
              <div class="col-md-12">
                <label class="form-label">{{lb_Employee}}</label>
                <select class="form-control choices-multiple" name="choices-multiple-remove-button" formControlName="EmployeeList" multiple>
                  <option value="{{oneUser.GN_Code}}" *ngFor="let oneUser of UserList">{{LangCode =='en-us' ||
                    LangCode == 'us-en' ? oneUser.Name_En : oneUser.Name_Ar}}</option>
                    <!-- <option value="Choice 1" selected>Choice 1</option>
                    <option value="2" selected>Choice 2</option>
                    <option value="3" selected>Choice 3</option>
                    <option value="4">Choice 4</option> -->
                </select>
              </div>
              <!-- <select class="form-control choices-multiple" name="choices-multiple-remove-button" multiple>
                <option value="Choice 1" selected="true">Choice 1</option>
                <option value="Choice 2" selected="true">Choice 2</option>
                <option value="Choice 3" selected="false">Choice 3</option>
                <option value="Choice 4">Choice 4</option>
              </select> -->
            </div>
          </div>

          <div class="d-flex justify-content-end mt-4">
            <button type="button" name="button" class="btn btn-light m-0"
              routerLink="/CreateSequence/list/">{{lb_Cancel}}</button>
            <button type="submit" [disabled]="!(SequenceForm.valid && btn_status)" name="button"
              class="btn bg-gradient-success m-0 mx-2"><span [innerHTML]="btn_spinner"></span></button>
          </div>
        </form>
      </div>
    </div>
  </div>

  <div class="row my-4">
    <div class="col-12">

      <div class="card">
        <h6 class="px-3 pt-3">{{lb_Search}}</h6>
        <p class="text-sm px-3">{{lb_SearchD}}</p>
        <div class="input-group ps-3 pe-3 pb-3 pt-2">
          <span class="input-group-text text-body"><i class="fas fa-search" aria-hidden="true"></i></span>
          <input type="text" class="form-control" placeholder="Type here..."  [(ngModel)]="searchedKeyword">
        </div>
        <div class="table-responsive">
          <table class="table align-items-center mb-0">
            <thead>
              <tr>

                
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">{{lb_SequenceModel}}</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">{{lb_SequenceStatus}}</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">{{lb_NextStep}}</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">{{lb_PreviousStep}}</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">{{lb_OptionStep}}</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">{{lb_EmailTemplate}}</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">{{lb_Status}}</th>
                <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">{{lb_Action}}</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let oneSpe of SequenceList | filter: searchedKeyword |
              paginate: {id: 'listing_pagination',
              itemsPerPage: PerPage,
              currentPage: page,
              totalItems: tatalRecords
          }">
                
                <td>
                  <div class="d-flex px-2 py-1">
                    <div class="d-flex flex-column justify-content-center">
                      <h6 class="mb-0 text-sm">{{LangCode === "us-en" ? oneSpe.SequencesModel.Name_En : oneSpe.SequencesModel.Name_Ar}}</h6>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="d-flex px-2 py-1">
                    <div class="d-flex flex-column justify-content-center">
                      <h6 class="mb-0 text-sm"><span class="badge" [ngStyle]="{'background-color':oneSpe.SequencesStatus.ColorCode}">{{LangCode === "us-en" ? oneSpe.SequencesStatus.Name_En : oneSpe.SequencesStatus.Name_Ar}}</span></h6>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="d-flex px-2 py-1">
                    <div class="d-flex flex-column justify-content-center">
                      <h6 class="mb-0 text-sm" *ngIf="oneSpe.SequencesNext"><span class="badge"
                        [ngStyle]="{'background-color':oneSpe.SequencesNext.ColorCode}">{{LangCode === "us-en" ?
                          oneSpe.SequencesNext.Name_En : oneSpe.SequencesNext.Name_Ar}}</span></h6>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="d-flex px-2 py-1">
                    <div class="d-flex flex-column justify-content-center">
                      <h6 class="mb-0 text-sm" *ngIf="oneSpe.SequencesPreviose"><span class="badge"
                        [ngStyle]="{'background-color': oneSpe.SequencesPreviose.ColorCode}">{{LangCode === "us-en" ?
                          oneSpe.SequencesPreviose.Name_En : oneSpe.SequencesPreviose.Name_Ar}}</span></h6>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="d-flex px-2 py-1">
                    <div class="d-flex flex-column justify-content-center">
                      <h6 class="mb-0 text-sm" *ngIf="oneSpe.SequencesOption"><span class="badge"
                        [ngStyle]="{'background-color': oneSpe.SequencesOption != null ? oneSpe.SequencesOption.ColorCode : ''}">{{LangCode === "us-en" && oneSpe.SequencesOption != null ?
                          oneSpe.SequencesOption.Name_En : oneSpe.SequencesOption.Name_Ar}}</span></h6>
                    </div>
                  </div>
                </td>
                <td>
                  <div class="d-flex px-2 py-1">
                    <div class="d-flex flex-column justify-content-center">
                      <h6 class="mb-0 text-sm" *ngIf="oneSpe.EmailTemplate">{{LangCode === "us-en" && oneSpe.EmailTemplate != null ? oneSpe.EmailTemplate.Name_En : oneSpe.EmailTemplate.Name_Ar}}
                      </h6>
                    </div>
                  </div>
                </td>
                <td>
                  <span class="badge badge-dot me-4">
                    <i class="{{oneSpe.IsActive ? 'bg-info' : 'bg-warning'}} mx-2"></i>
                    <span class="text-dark text-xs">{{oneSpe.IsActive ? lb_Active : lb_InActive}}</span>
                  </span>
                </td>
                <td class="text-sm">
                  <a routerLink="/CreateSequence/list/{{oneSpe.GN_Code}}"  data-bs-toggle="tooltip"
                    data-bs-original-title="Preview product">
                    <i class="fas fa-user-edit text-secondary"></i>
                  </a>
                </td>
              </tr>
            </tbody>
          </table>

        </div>

        <div class="row justify-content-md-center mb-2">
          <div class="col-lg-4"></div>
          <div class="col-lg-4">
            <!-- Pagination area -->
            <pagination-controls class="dataTable-pagination" id='listing_pagination' [maxSize]="5" [directionLinks]="true" [autoHide]="true"
              [responsive]="true" previousLabel="Previous" nextLabel="Next" screenReaderPaginationLabel="Pages"
              screenReaderPageLabel="Page" (pageChange)="page = $event"></pagination-controls>
          </div>
          <div class="col-lg-4"></div>
        </div>

      </div>
    </div>
  </div>

  
</div>
